{"remainingRequest":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\vue-visibility-sensor\\visibility-sensor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\vue-visibility-sensor\\visibility-sensor.vue","mtime":1654273349855},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654273329654},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\babel-loader\\lib\\index.js","mtime":1654273323368},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654273329654},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae\\sitescae\\node_modules\\vue-loader\\lib\\index.js","mtime":1654273349611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cid1c2Ugc3RyaWN0JzsKCi8qKgogKiBAcGFyYW0ge3sgdG9wOiBOdW1iZXIsIGxlZnQ6IE51bWJlciwgYm90dG9tOiBOdW1iZXIsIHJpZ2h0OiBOdW1iZXIsIHdpZHRoOiBOdW1iZXIsIGhlaWdodDogTnVtYmVyIH19IHJlY3QKICogQHJldHVybnMge3sgdG9wOiBOdW1iZXIsIGxlZnQ6IE51bWJlciwgYm90dG9tOiBOdW1iZXIsIHJpZ2h0OiBOdW1iZXIsIHdpZHRoOiBOdW1iZXIsIGhlaWdodDogTnVtYmVyIH19CiAqICovCmZ1bmN0aW9uIG5vcm1hbGl6ZVJlY3QgKHJlY3QpIHsKICBpZiAocmVjdC53aWR0aCA9PT0gdW5kZWZpbmVkKSB7CiAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDsKICB9CgogIGlmIChyZWN0LmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7CiAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7CiAgfQoKICByZXR1cm4gcmVjdDsKfQoKLyoqCiAqIEBwYXJhbSB7eyB0b3A6IE51bWJlciwgbGVmdDogTnVtYmVyLCBib3R0b206IE51bWJlciwgcmlnaHQ6IE51bWJlciB9fSByZWN0CiAqIEByZXR1cm5zIHt7IHRvcDogTnVtYmVyLCBsZWZ0OiBOdW1iZXIsIGJvdHRvbTogTnVtYmVyLCByaWdodDogTnVtYmVyIH19CiAqICovCmZ1bmN0aW9uIHJvdW5kUmVjdERvd24gKHJlY3QpIHsKICByZXR1cm4gewogICAgdG9wOiBNYXRoLmZsb29yKHJlY3QudG9wKSwKICAgIGxlZnQ6IE1hdGguZmxvb3IocmVjdC5sZWZ0KSwKICAgIGJvdHRvbTogTWF0aC5mbG9vcihyZWN0LmJvdHRvbSksCiAgICByaWdodDogTWF0aC5mbG9vcihyZWN0LnJpZ2h0KQogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVmlzaWJpbGl0eVNlbnNvcicsCiAgcHJvcHM6IHsKICAgIGFjdGl2ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcGFydGlhbFZpc2liaWxpdHk6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHYpID4gLTE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWluVG9wVmFsdWU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgc2Nyb2xsQ2hlY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzY3JvbGxEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDI1MAogICAgfSwKICAgIHNjcm9sbFRocm90dGxlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogLTEKICAgIH0sCiAgICByZXNpemVDaGVjazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlc2l6ZURlbGF5OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjUwCiAgICB9LAogICAgcmVzaXplVGhyb3R0bGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAtMQogICAgfSwKICAgIGludGVydmFsQ2hlY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGludGVydmFsRGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICBkZWxheWVkQ2FsbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG9mZnNldDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgfQogICAgICAvLyBzaG91bGQgYmUKICAgICAgLy8gewogICAgICAvLyAgIHRvcDogTnVtYmVyLAogICAgICAvLyAgIGxlZnQ6IE51bWJlciwKICAgICAgLy8gICByaWdodDogTnVtYmVyLAogICAgICAvLyAgIGJvdHRvbTogTnVtYmVyLAogICAgICAvLyB9CiAgICB9LAogICAgY29udGFpbm1lbnQ6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2libGU6IG51bGwsCiAgICAgIHZpc2liaWxpdHlSZWN0OiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQgKCkgewogICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgIHRoaXMuc3RhcnRXYXRjaGluZygpOwogICAgfQogIH0sCiAgdXBkYXRlZCAoKSB7CgogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICB0aGlzLnN0b3BXYXRjaGluZygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29udGFpbmVyICgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFpbm1lbnQgfHwgd2luZG93OwogICAgfSwKICAgIGFkZEV2ZW50TGlzdGVuZXIgKHRhcmdldCwgZXZlbnQsIGRlbGF5LCB0aHJvdHRsZSkgewogICAgICBpZiAoIXRoaXMuZGVib3VuY2VDaGVjaykgewogICAgICAgIHRoaXMuZGVib3VuY2VDaGVjayA9IHt9OwogICAgICB9CiAgICAgIGxldCB0aW1lb3V0OwogICAgICBsZXQgZm47CiAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4gewogICAgICAgIHRpbWVvdXQgPSBudWxsOwogICAgICAgIHRoaXMuY2hlY2soKTsKICAgICAgfTsKCiAgICAgIGlmICh0aHJvdHRsZSA+IC0xKSB7CiAgICAgICAgZm4gPSAoKSA9PiB7CiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHsKICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHRocm90dGxlIHx8IDApOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm4gPSAoKSA9PiB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgZGVsYXkgfHwgMCk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgY29uc3QgaW5mbyA9IHsKICAgICAgICB0YXJnZXQsCiAgICAgICAgZm4sCiAgICAgICAgZ2V0TGFzdFRpbWVvdXQ6ICgpID0+IHRpbWVvdXQKICAgICAgfTsKCiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBpbmZvLmZuKTsKICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrW2V2ZW50XSA9IGluZm87CiAgICB9LAogICAgc3RhcnRXYXRjaGluZyAoKSB7CiAgICAgIGlmICh0aGlzLmRlYm91bmNlQ2hlY2sgfHwgdGhpcy5pbnRlcnZhbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxDaGVjaykgewogICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmNoZWNrKCksIHRoaXMuaW50ZXJ2YWxEZWxheSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNjcm9sbENoZWNrKSB7CiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKAogICAgICAgICAgdGhpcy5nZXRDb250YWluZXIoKSwKICAgICAgICAgICdzY3JvbGwnLAogICAgICAgICAgdGhpcy5zY3JvbGxEZWxheSwKICAgICAgICAgIHRoaXMuc2Nyb2xsVGhyb3R0bGUKICAgICAgICApOwogICAgICB9CgogICAgICBpZiAodGhpcy5yZXNpemVDaGVjaykgewogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgICAgIHdpbmRvdywKICAgICAgICAgICdyZXNpemUnLAogICAgICAgICAgdGhpcy5yZXNpemVEZWxheSwKICAgICAgICAgIHRoaXMucmVzaXplVGhyb3R0bGUKICAgICAgICApOwogICAgICB9CgogICAgICAhdGhpcy5kZWxheWVkQ2FsbCAmJiB0aGlzLmNoZWNrKCk7CiAgICB9LAogICAgc3RvcFdhdGNoaW5nICgpIHsKICAgICAgaWYgKHRoaXMuZGVib3VuY2VDaGVjaykgewogICAgICAgIC8vIGNsZWFuIHVwIGV2ZW50IGxpc3RlbmVycyBhbmQgdGhlaXIgZGVib3VuY2UgY2FsbGVycwogICAgICAgIGZvciAobGV0IGRlYm91bmNlRXZlbnQgaW4gdGhpcy5kZWJvdW5jZUNoZWNrKSB7CiAgICAgICAgICBpZiAodGhpcy5kZWJvdW5jZUNoZWNrLmhhc093blByb3BlcnR5KGRlYm91bmNlRXZlbnQpKSB7CiAgICAgICAgICAgIGNvbnN0IGRlYm91bmNlSW5mbyA9IHRoaXMuZGVib3VuY2VDaGVja1tkZWJvdW5jZUV2ZW50XTsKCiAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZUluZm8uZ2V0TGFzdFRpbWVvdXQoKSk7CiAgICAgICAgICAgIGRlYm91bmNlSW5mby50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigKICAgICAgICAgICAgICBkZWJvdW5jZUV2ZW50LAogICAgICAgICAgICAgIGRlYm91bmNlSW5mby5mbgogICAgICAgICAgICApOwoKICAgICAgICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrW2RlYm91bmNlRXZlbnRdID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLmludGVydmFsKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgICAgICB0aGlzLmludGVydmFsID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNoZWNrICgpIHsKICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbDsKICAgICAgbGV0IHJlY3Q7CiAgICAgIGxldCBjb250YWlubWVudFJlY3Q7CgogICAgICBpZiAoIWVsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZWN0ID0gbm9ybWFsaXplUmVjdChyb3VuZFJlY3REb3duKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7CgogICAgICBpZiAodGhpcy5jb250YWlubWVudCkgewogICAgICAgIGNvbnN0IGNvbnRhaW5tZW50RE9NUmVjdCA9IHRoaXMuY29udGFpbm1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgY29udGFpbm1lbnRSZWN0ID0gewogICAgICAgICAgdG9wOiBjb250YWlubWVudERPTVJlY3QudG9wLAogICAgICAgICAgbGVmdDogY29udGFpbm1lbnRET01SZWN0LmxlZnQsCiAgICAgICAgICBib3R0b206IGNvbnRhaW5tZW50RE9NUmVjdC5ib3R0b20sCiAgICAgICAgICByaWdodDogY29udGFpbm1lbnRET01SZWN0LnJpZ2h0CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250YWlubWVudFJlY3QgPSB7CiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwKICAgICAgICAgIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgKICAgICAgICB9OwogICAgICB9CgogICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9mZnNldCB8fCB7fTsKICAgICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgY29udGFpbm1lbnRSZWN0LnRvcCArPSBvZmZzZXQudG9wIHx8IDA7CiAgICAgICAgY29udGFpbm1lbnRSZWN0LmxlZnQgKz0gb2Zmc2V0LmxlZnQgfHwgMDsKICAgICAgICBjb250YWlubWVudFJlY3QuYm90dG9tIC09IG9mZnNldC5ib3R0b20gfHwgMDsKICAgICAgICBjb250YWlubWVudFJlY3QucmlnaHQgLT0gb2Zmc2V0LnJpZ2h0IHx8IDA7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZpc2liaWxpdHlSZWN0ID0gewogICAgICAgIHRvcDogcmVjdC50b3AgPj0gY29udGFpbm1lbnRSZWN0LnRvcCwKICAgICAgICBsZWZ0OiByZWN0LmxlZnQgPj0gY29udGFpbm1lbnRSZWN0LmxlZnQsCiAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSA8PSBjb250YWlubWVudFJlY3QuYm90dG9tLAogICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IDw9IGNvbnRhaW5tZW50UmVjdC5yaWdodAogICAgICB9OwoKICAgICAgY29uc3QgaGFzU2l6ZSA9IHJlY3QuaGVpZ2h0ID4gMCAmJiByZWN0LndpZHRoID4gMDsKCiAgICAgIGxldCBpc1Zpc2libGUgPQogICAgICAgIGhhc1NpemUgJiYKICAgICAgICB2aXNpYmlsaXR5UmVjdC50b3AgJiYKICAgICAgICB2aXNpYmlsaXR5UmVjdC5sZWZ0ICYmCiAgICAgICAgdmlzaWJpbGl0eVJlY3QuYm90dG9tICYmCiAgICAgICAgdmlzaWJpbGl0eVJlY3QucmlnaHQ7CgogICAgICAvLyBjaGVjayBmb3IgcGFydGlhbCB2aXNpYmlsaXR5CiAgICAgIGlmIChoYXNTaXplICYmIHRoaXMucGFydGlhbFZpc2liaWxpdHkpIHsKICAgICAgICBsZXQgcGFydGlhbFZpc2libGUgPQogICAgICAgICAgcmVjdC50b3AgPD0gY29udGFpbm1lbnRSZWN0LmJvdHRvbSAmJgogICAgICAgICAgcmVjdC5ib3R0b20gPj0gY29udGFpbm1lbnRSZWN0LnRvcCAmJgogICAgICAgICAgcmVjdC5sZWZ0IDw9IGNvbnRhaW5tZW50UmVjdC5yaWdodCAmJgogICAgICAgICAgcmVjdC5yaWdodCA+PSBjb250YWlubWVudFJlY3QubGVmdDsKCiAgICAgICAgLy8gYWNjb3VudCBmb3IgcGFydGlhbCB2aXNpYmlsaXR5IG9uIGEgc2luZ2xlIGVkZ2UKICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFydGlhbFZpc2liaWxpdHkgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBwYXJ0aWFsVmlzaWJsZSA9IHZpc2liaWxpdHlSZWN0W3RoaXMucGFydGlhbFZpc2liaWxpdHldOwogICAgICAgIH0KCiAgICAgICAgLy8gaWYgd2UgaGF2ZSBtaW5pbXVtIHRvcCB2aXNpYmlsaXR5IHNldCBieSBwcm9wcywgbGV0cyBjaGVjaywgaWYgaXQgbWVldHMgdGhlIHBhc3NlZCB2YWx1ZQogICAgICAgIC8vIHNvIGlmIGZvciBpbnN0YW5jZSBlbGVtZW50IGlzIGF0IGxlYXN0IDIwMHB4IGluIHZpZXdwb3J0LCB0aGVuIHNob3cgaXQuCiAgICAgICAgaXNWaXNpYmxlID0gdGhpcy5taW5Ub3BWYWx1ZQogICAgICAgICAgPyBwYXJ0aWFsVmlzaWJsZSAmJgogICAgICAgICAgcmVjdC50b3AgPD0gY29udGFpbm1lbnRSZWN0LmJvdHRvbSAtIHRoaXMubWluVG9wVmFsdWUKICAgICAgICAgIDogcGFydGlhbFZpc2libGU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSAhPT0gaXNWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBpc1Zpc2libGU7CiAgICAgICAgdGhpcy52aXNpYmlsaXR5UmVjdCA9IHZpc2liaWxpdHlSZWN0OwogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGlzVmlzaWJsZSk7CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcihjcmVhdGVFbGVtZW50LCBjb250ZXh0KSB7CiAgICByZXR1cm4gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiAnaGVpZ2h0OiAxcHg7IHdpZHRoOiAxMDAlOycgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["visibility-sensor.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"visibility-sensor.vue","sourceRoot":"node_modules/vue-visibility-sensor","sourcesContent":["<script>\r\n  'use strict';\r\n\r\n  /**\r\n   * @param {{ top: Number, left: Number, bottom: Number, right: Number, width: Number, height: Number }} rect\r\n   * @returns {{ top: Number, left: Number, bottom: Number, right: Number, width: Number, height: Number }}\r\n   * */\r\n  function normalizeRect (rect) {\r\n    if (rect.width === undefined) {\r\n      rect.width = rect.right - rect.left;\r\n    }\r\n\r\n    if (rect.height === undefined) {\r\n      rect.height = rect.bottom - rect.top;\r\n    }\r\n\r\n    return rect;\r\n  }\r\n\r\n  /**\r\n   * @param {{ top: Number, left: Number, bottom: Number, right: Number }} rect\r\n   * @returns {{ top: Number, left: Number, bottom: Number, right: Number }}\r\n   * */\r\n  function roundRectDown (rect) {\r\n    return {\r\n      top: Math.floor(rect.top),\r\n      left: Math.floor(rect.left),\r\n      bottom: Math.floor(rect.bottom),\r\n      right: Math.floor(rect.right)\r\n    };\r\n  }\r\n\r\n  export default {\r\n    name: 'VisibilitySensor',\r\n    props: {\r\n      active: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      partialVisibility: {\r\n        type: [Boolean, String],\r\n        default: false,\r\n        validator: function (v) {\r\n          if (typeof v === 'boolean') {\r\n            return true;\r\n          } else {\r\n            return ['top', 'right', 'bottom', 'left'].indexOf(v) > -1;\r\n          }\r\n        }\r\n      },\r\n      minTopValue: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      scrollCheck: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      scrollDelay: {\r\n        type: Number,\r\n        default: 250\r\n      },\r\n      scrollThrottle: {\r\n        type: Number,\r\n        default: -1\r\n      },\r\n      resizeCheck: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      resizeDelay: {\r\n        type: Number,\r\n        default: 250\r\n      },\r\n      resizeThrottle: {\r\n        type: Number,\r\n        default: -1\r\n      },\r\n      intervalCheck: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      intervalDelay: {\r\n        type: Number,\r\n        default: 100\r\n      },\r\n      delayedCall: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      offset: {\r\n        type: Object,\r\n        default: () => {\r\n        }\r\n        // should be\r\n        // {\r\n        //   top: Number,\r\n        //   left: Number,\r\n        //   right: Number,\r\n        //   bottom: Number,\r\n        // }\r\n      },\r\n      containment: {\r\n        default: null\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        isVisible: null,\r\n        visibilityRect: {}\r\n      };\r\n    },\r\n    mounted () {\r\n      if (this.active) {\r\n        this.startWatching();\r\n      }\r\n    },\r\n    updated () {\r\n\r\n    },\r\n    beforeDestroy () {\r\n      this.stopWatching();\r\n    },\r\n    methods: {\r\n      getContainer () {\r\n        return this.containment || window;\r\n      },\r\n      addEventListener (target, event, delay, throttle) {\r\n        if (!this.debounceCheck) {\r\n          this.debounceCheck = {};\r\n        }\r\n        let timeout;\r\n        let fn;\r\n        const later = () => {\r\n          timeout = null;\r\n          this.check();\r\n        };\r\n\r\n        if (throttle > -1) {\r\n          fn = () => {\r\n            if (!timeout) {\r\n              timeout = setTimeout(later, throttle || 0);\r\n            }\r\n          };\r\n        } else {\r\n          fn = () => {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, delay || 0);\r\n          };\r\n        }\r\n\r\n        const info = {\r\n          target,\r\n          fn,\r\n          getLastTimeout: () => timeout\r\n        };\r\n\r\n        target.addEventListener(event, info.fn);\r\n        this.debounceCheck[event] = info;\r\n      },\r\n      startWatching () {\r\n        if (this.debounceCheck || this.interval) {\r\n          return;\r\n        }\r\n\r\n        if (this.intervalCheck) {\r\n          this.interval = setInterval(() => this.check(), this.intervalDelay);\r\n        }\r\n\r\n        if (this.scrollCheck) {\r\n          this.addEventListener(\r\n            this.getContainer(),\r\n            'scroll',\r\n            this.scrollDelay,\r\n            this.scrollThrottle\r\n          );\r\n        }\r\n\r\n        if (this.resizeCheck) {\r\n          this.addEventListener(\r\n            window,\r\n            'resize',\r\n            this.resizeDelay,\r\n            this.resizeThrottle\r\n          );\r\n        }\r\n\r\n        !this.delayedCall && this.check();\r\n      },\r\n      stopWatching () {\r\n        if (this.debounceCheck) {\r\n          // clean up event listeners and their debounce callers\r\n          for (let debounceEvent in this.debounceCheck) {\r\n            if (this.debounceCheck.hasOwnProperty(debounceEvent)) {\r\n              const debounceInfo = this.debounceCheck[debounceEvent];\r\n\r\n              clearTimeout(debounceInfo.getLastTimeout());\r\n              debounceInfo.target.removeEventListener(\r\n                debounceEvent,\r\n                debounceInfo.fn\r\n              );\r\n\r\n              this.debounceCheck[debounceEvent] = null;\r\n            }\r\n          }\r\n        }\r\n        this.debounceCheck = null;\r\n\r\n        if (this.interval) {\r\n          clearInterval(this.interval);\r\n          this.interval = null;\r\n        }\r\n      },\r\n      check () {\r\n        const el = this.$el;\r\n        let rect;\r\n        let containmentRect;\r\n\r\n        if (!el) {\r\n          return;\r\n        }\r\n\r\n        rect = normalizeRect(roundRectDown(el.getBoundingClientRect()));\r\n\r\n        if (this.containment) {\r\n          const containmentDOMRect = this.containment.getBoundingClientRect();\r\n          containmentRect = {\r\n            top: containmentDOMRect.top,\r\n            left: containmentDOMRect.left,\r\n            bottom: containmentDOMRect.bottom,\r\n            right: containmentDOMRect.right\r\n          };\r\n        } else {\r\n          containmentRect = {\r\n            top: 0,\r\n            left: 0,\r\n            bottom: window.innerHeight || document.documentElement.clientHeight,\r\n            right: window.innerWidth || document.documentElement.clientWidth\r\n          };\r\n        }\r\n\r\n        const offset = this.offset || {};\r\n        if (typeof offset === 'object') {\r\n          containmentRect.top += offset.top || 0;\r\n          containmentRect.left += offset.left || 0;\r\n          containmentRect.bottom -= offset.bottom || 0;\r\n          containmentRect.right -= offset.right || 0;\r\n        }\r\n\r\n        const visibilityRect = {\r\n          top: rect.top >= containmentRect.top,\r\n          left: rect.left >= containmentRect.left,\r\n          bottom: rect.bottom <= containmentRect.bottom,\r\n          right: rect.right <= containmentRect.right\r\n        };\r\n\r\n        const hasSize = rect.height > 0 && rect.width > 0;\r\n\r\n        let isVisible =\r\n          hasSize &&\r\n          visibilityRect.top &&\r\n          visibilityRect.left &&\r\n          visibilityRect.bottom &&\r\n          visibilityRect.right;\r\n\r\n        // check for partial visibility\r\n        if (hasSize && this.partialVisibility) {\r\n          let partialVisible =\r\n            rect.top <= containmentRect.bottom &&\r\n            rect.bottom >= containmentRect.top &&\r\n            rect.left <= containmentRect.right &&\r\n            rect.right >= containmentRect.left;\r\n\r\n          // account for partial visibility on a single edge\r\n          if (typeof this.partialVisibility === 'string') {\r\n            partialVisible = visibilityRect[this.partialVisibility];\r\n          }\r\n\r\n          // if we have minimum top visibility set by props, lets check, if it meets the passed value\r\n          // so if for instance element is at least 200px in viewport, then show it.\r\n          isVisible = this.minTopValue\r\n            ? partialVisible &&\r\n            rect.top <= containmentRect.bottom - this.minTopValue\r\n            : partialVisible;\r\n        }\r\n\r\n        if (this.isVisible !== isVisible) {\r\n          this.isVisible = isVisible;\r\n          this.visibilityRect = visibilityRect;\r\n          this.$emit('change', isVisible);\r\n        }\r\n      }\r\n    },\r\n    render(createElement, context) {\r\n      return this.$slots.default || createElement('div', { style: 'height: 1px; width: 100%;' });\r\n    },\r\n  };\r\n</script>\r\n"]}]}