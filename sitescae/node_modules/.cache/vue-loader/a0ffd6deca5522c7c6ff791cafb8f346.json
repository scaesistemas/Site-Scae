{"remainingRequest":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\vue-visibility-sensor\\visibility-sensor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\vue-visibility-sensor\\visibility-sensor.vue","mtime":499162500000},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dev1\\Documents\\Fontes\\site-scae_of\\sitescae\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cid1c2Ugc3RyaWN0JzsKCi8qKgogKiBAcGFyYW0ge3sgdG9wOiBOdW1iZXIsIGxlZnQ6IE51bWJlciwgYm90dG9tOiBOdW1iZXIsIHJpZ2h0OiBOdW1iZXIsIHdpZHRoOiBOdW1iZXIsIGhlaWdodDogTnVtYmVyIH19IHJlY3QKICogQHJldHVybnMge3sgdG9wOiBOdW1iZXIsIGxlZnQ6IE51bWJlciwgYm90dG9tOiBOdW1iZXIsIHJpZ2h0OiBOdW1iZXIsIHdpZHRoOiBOdW1iZXIsIGhlaWdodDogTnVtYmVyIH19CiAqICovCmZ1bmN0aW9uIG5vcm1hbGl6ZVJlY3QgKHJlY3QpIHsKICBpZiAocmVjdC53aWR0aCA9PT0gdW5kZWZpbmVkKSB7CiAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDsKICB9CgogIGlmIChyZWN0LmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7CiAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7CiAgfQoKICByZXR1cm4gcmVjdDsKfQoKLyoqCiAqIEBwYXJhbSB7eyB0b3A6IE51bWJlciwgbGVmdDogTnVtYmVyLCBib3R0b206IE51bWJlciwgcmlnaHQ6IE51bWJlciB9fSByZWN0CiAqIEByZXR1cm5zIHt7IHRvcDogTnVtYmVyLCBsZWZ0OiBOdW1iZXIsIGJvdHRvbTogTnVtYmVyLCByaWdodDogTnVtYmVyIH19CiAqICovCmZ1bmN0aW9uIHJvdW5kUmVjdERvd24gKHJlY3QpIHsKICByZXR1cm4gewogICAgdG9wOiBNYXRoLmZsb29yKHJlY3QudG9wKSwKICAgIGxlZnQ6IE1hdGguZmxvb3IocmVjdC5sZWZ0KSwKICAgIGJvdHRvbTogTWF0aC5mbG9vcihyZWN0LmJvdHRvbSksCiAgICByaWdodDogTWF0aC5mbG9vcihyZWN0LnJpZ2h0KQogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVmlzaWJpbGl0eVNlbnNvcicsCiAgcHJvcHM6IHsKICAgIGFjdGl2ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcGFydGlhbFZpc2liaWxpdHk6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHYpID4gLTE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWluVG9wVmFsdWU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgc2Nyb2xsQ2hlY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzY3JvbGxEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDI1MAogICAgfSwKICAgIHNjcm9sbFRocm90dGxlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogLTEKICAgIH0sCiAgICByZXNpemVDaGVjazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlc2l6ZURlbGF5OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjUwCiAgICB9LAogICAgcmVzaXplVGhyb3R0bGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAtMQogICAgfSwKICAgIGludGVydmFsQ2hlY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGludGVydmFsRGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICBkZWxheWVkQ2FsbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG9mZnNldDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgfQogICAgICAvLyBzaG91bGQgYmUKICAgICAgLy8gewogICAgICAvLyAgIHRvcDogTnVtYmVyLAogICAgICAvLyAgIGxlZnQ6IE51bWJlciwKICAgICAgLy8gICByaWdodDogTnVtYmVyLAogICAgICAvLyAgIGJvdHRvbTogTnVtYmVyLAogICAgICAvLyB9CiAgICB9LAogICAgY29udGFpbm1lbnQ6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2libGU6IG51bGwsCiAgICAgIHZpc2liaWxpdHlSZWN0OiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQgKCkgewogICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgIHRoaXMuc3RhcnRXYXRjaGluZygpOwogICAgfQogIH0sCiAgdXBkYXRlZCAoKSB7CgogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICB0aGlzLnN0b3BXYXRjaGluZygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29udGFpbmVyICgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFpbm1lbnQgfHwgd2luZG93OwogICAgfSwKICAgIGFkZEV2ZW50TGlzdGVuZXIgKHRhcmdldCwgZXZlbnQsIGRlbGF5LCB0aHJvdHRsZSkgewogICAgICBpZiAoIXRoaXMuZGVib3VuY2VDaGVjaykgewogICAgICAgIHRoaXMuZGVib3VuY2VDaGVjayA9IHt9OwogICAgICB9CiAgICAgIGxldCB0aW1lb3V0OwogICAgICBsZXQgZm47CiAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4gewogICAgICAgIHRpbWVvdXQgPSBudWxsOwogICAgICAgIHRoaXMuY2hlY2soKTsKICAgICAgfTsKCiAgICAgIGlmICh0aHJvdHRsZSA+IC0xKSB7CiAgICAgICAgZm4gPSAoKSA9PiB7CiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHsKICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHRocm90dGxlIHx8IDApOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm4gPSAoKSA9PiB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgZGVsYXkgfHwgMCk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgY29uc3QgaW5mbyA9IHsKICAgICAgICB0YXJnZXQsCiAgICAgICAgZm4sCiAgICAgICAgZ2V0TGFzdFRpbWVvdXQ6ICgpID0+IHRpbWVvdXQKICAgICAgfTsKCiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBpbmZvLmZuKTsKICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrW2V2ZW50XSA9IGluZm87CiAgICB9LAogICAgc3RhcnRXYXRjaGluZyAoKSB7CiAgICAgIGlmICh0aGlzLmRlYm91bmNlQ2hlY2sgfHwgdGhpcy5pbnRlcnZhbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxDaGVjaykgewogICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmNoZWNrKCksIHRoaXMuaW50ZXJ2YWxEZWxheSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNjcm9sbENoZWNrKSB7CiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKAogICAgICAgICAgdGhpcy5nZXRDb250YWluZXIoKSwKICAgICAgICAgICdzY3JvbGwnLAogICAgICAgICAgdGhpcy5zY3JvbGxEZWxheSwKICAgICAgICAgIHRoaXMuc2Nyb2xsVGhyb3R0bGUKICAgICAgICApOwogICAgICB9CgogICAgICBpZiAodGhpcy5yZXNpemVDaGVjaykgewogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgICAgIHdpbmRvdywKICAgICAgICAgICdyZXNpemUnLAogICAgICAgICAgdGhpcy5yZXNpemVEZWxheSwKICAgICAgICAgIHRoaXMucmVzaXplVGhyb3R0bGUKICAgICAgICApOwogICAgICB9CgogICAgICAhdGhpcy5kZWxheWVkQ2FsbCAmJiB0aGlzLmNoZWNrKCk7CiAgICB9LAogICAgc3RvcFdhdGNoaW5nICgpIHsKICAgICAgaWYgKHRoaXMuZGVib3VuY2VDaGVjaykgewogICAgICAgIC8vIGNsZWFuIHVwIGV2ZW50IGxpc3RlbmVycyBhbmQgdGhlaXIgZGVib3VuY2UgY2FsbGVycwogICAgICAgIGZvciAobGV0IGRlYm91bmNlRXZlbnQgaW4gdGhpcy5kZWJvdW5jZUNoZWNrKSB7CiAgICAgICAgICBpZiAodGhpcy5kZWJvdW5jZUNoZWNrLmhhc093blByb3BlcnR5KGRlYm91bmNlRXZlbnQpKSB7CiAgICAgICAgICAgIGNvbnN0IGRlYm91bmNlSW5mbyA9IHRoaXMuZGVib3VuY2VDaGVja1tkZWJvdW5jZUV2ZW50XTsKCiAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZUluZm8uZ2V0TGFzdFRpbWVvdXQoKSk7CiAgICAgICAgICAgIGRlYm91bmNlSW5mby50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigKICAgICAgICAgICAgICBkZWJvdW5jZUV2ZW50LAogICAgICAgICAgICAgIGRlYm91bmNlSW5mby5mbgogICAgICAgICAgICApOwoKICAgICAgICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrW2RlYm91bmNlRXZlbnRdID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5kZWJvdW5jZUNoZWNrID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLmludGVydmFsKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgICAgICB0aGlzLmludGVydmFsID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNoZWNrICgpIHsKICAgICAgY29uc3QgZWwgPSB0aGlzLiRlbDsKICAgICAgbGV0IHJlY3Q7CiAgICAgIGxldCBjb250YWlubWVudFJlY3Q7CgogICAgICBpZiAoIWVsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZWN0ID0gbm9ybWFsaXplUmVjdChyb3VuZFJlY3REb3duKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7CgogICAgICBpZiAodGhpcy5jb250YWlubWVudCkgewogICAgICAgIGNvbnN0IGNvbnRhaW5tZW50RE9NUmVjdCA9IHRoaXMuY29udGFpbm1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgY29udGFpbm1lbnRSZWN0ID0gewogICAgICAgICAgdG9wOiBjb250YWlubWVudERPTVJlY3QudG9wLAogICAgICAgICAgbGVmdDogY29udGFpbm1lbnRET01SZWN0LmxlZnQsCiAgICAgICAgICBib3R0b206IGNvbnRhaW5tZW50RE9NUmVjdC5ib3R0b20sCiAgICAgICAgICByaWdodDogY29udGFpbm1lbnRET01SZWN0LnJpZ2h0CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250YWlubWVudFJlY3QgPSB7CiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwKICAgICAgICAgIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgKICAgICAgICB9OwogICAgICB9CgogICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9mZnNldCB8fCB7fTsKICAgICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgY29udGFpbm1lbnRSZWN0LnRvcCArPSBvZmZzZXQudG9wIHx8IDA7CiAgICAgICAgY29udGFpbm1lbnRSZWN0LmxlZnQgKz0gb2Zmc2V0LmxlZnQgfHwgMDsKICAgICAgICBjb250YWlubWVudFJlY3QuYm90dG9tIC09IG9mZnNldC5ib3R0b20gfHwgMDsKICAgICAgICBjb250YWlubWVudFJlY3QucmlnaHQgLT0gb2Zmc2V0LnJpZ2h0IHx8IDA7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZpc2liaWxpdHlSZWN0ID0gewogICAgICAgIHRvcDogcmVjdC50b3AgPj0gY29udGFpbm1lbnRSZWN0LnRvcCwKICAgICAgICBsZWZ0OiByZWN0LmxlZnQgPj0gY29udGFpbm1lbnRSZWN0LmxlZnQsCiAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSA8PSBjb250YWlubWVudFJlY3QuYm90dG9tLAogICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IDw9IGNvbnRhaW5tZW50UmVjdC5yaWdodAogICAgICB9OwoKICAgICAgY29uc3QgaGFzU2l6ZSA9IHJlY3QuaGVpZ2h0ID4gMCAmJiByZWN0LndpZHRoID4gMDsKCiAgICAgIGxldCBpc1Zpc2libGUgPQogICAgICAgIGhhc1NpemUgJiYKICAgICAgICB2aXNpYmlsaXR5UmVjdC50b3AgJiYKICAgICAgICB2aXNpYmlsaXR5UmVjdC5sZWZ0ICYmCiAgICAgICAgdmlzaWJpbGl0eVJlY3QuYm90dG9tICYmCiAgICAgICAgdmlzaWJpbGl0eVJlY3QucmlnaHQ7CgogICAgICAvLyBjaGVjayBmb3IgcGFydGlhbCB2aXNpYmlsaXR5CiAgICAgIGlmIChoYXNTaXplICYmIHRoaXMucGFydGlhbFZpc2liaWxpdHkpIHsKICAgICAgICBsZXQgcGFydGlhbFZpc2libGUgPQogICAgICAgICAgcmVjdC50b3AgPD0gY29udGFpbm1lbnRSZWN0LmJvdHRvbSAmJgogICAgICAgICAgcmVjdC5ib3R0b20gPj0gY29udGFpbm1lbnRSZWN0LnRvcCAmJgogICAgICAgICAgcmVjdC5sZWZ0IDw9IGNvbnRhaW5tZW50UmVjdC5yaWdodCAmJgogICAgICAgICAgcmVjdC5yaWdodCA+PSBjb250YWlubWVudFJlY3QubGVmdDsKCiAgICAgICAgLy8gYWNjb3VudCBmb3IgcGFydGlhbCB2aXNpYmlsaXR5IG9uIGEgc2luZ2xlIGVkZ2UKICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFydGlhbFZpc2liaWxpdHkgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBwYXJ0aWFsVmlzaWJsZSA9IHZpc2liaWxpdHlSZWN0W3RoaXMucGFydGlhbFZpc2liaWxpdHldOwogICAgICAgIH0KCiAgICAgICAgLy8gaWYgd2UgaGF2ZSBtaW5pbXVtIHRvcCB2aXNpYmlsaXR5IHNldCBieSBwcm9wcywgbGV0cyBjaGVjaywgaWYgaXQgbWVldHMgdGhlIHBhc3NlZCB2YWx1ZQogICAgICAgIC8vIHNvIGlmIGZvciBpbnN0YW5jZSBlbGVtZW50IGlzIGF0IGxlYXN0IDIwMHB4IGluIHZpZXdwb3J0LCB0aGVuIHNob3cgaXQuCiAgICAgICAgaXNWaXNpYmxlID0gdGhpcy5taW5Ub3BWYWx1ZQogICAgICAgICAgPyBwYXJ0aWFsVmlzaWJsZSAmJgogICAgICAgICAgcmVjdC50b3AgPD0gY29udGFpbm1lbnRSZWN0LmJvdHRvbSAtIHRoaXMubWluVG9wVmFsdWUKICAgICAgICAgIDogcGFydGlhbFZpc2libGU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSAhPT0gaXNWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBpc1Zpc2libGU7CiAgICAgICAgdGhpcy52aXNpYmlsaXR5UmVjdCA9IHZpc2liaWxpdHlSZWN0OwogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGlzVmlzaWJsZSk7CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcihjcmVhdGVFbGVtZW50LCBjb250ZXh0KSB7CiAgICByZXR1cm4gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiAnaGVpZ2h0OiAxcHg7IHdpZHRoOiAxMDAlOycgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["visibility-sensor.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"visibility-sensor.vue","sourceRoot":"node_modules/vue-visibility-sensor","sourcesContent":["<script>\n  'use strict';\n\n  /**\n   * @param {{ top: Number, left: Number, bottom: Number, right: Number, width: Number, height: Number }} rect\n   * @returns {{ top: Number, left: Number, bottom: Number, right: Number, width: Number, height: Number }}\n   * */\n  function normalizeRect (rect) {\n    if (rect.width === undefined) {\n      rect.width = rect.right - rect.left;\n    }\n\n    if (rect.height === undefined) {\n      rect.height = rect.bottom - rect.top;\n    }\n\n    return rect;\n  }\n\n  /**\n   * @param {{ top: Number, left: Number, bottom: Number, right: Number }} rect\n   * @returns {{ top: Number, left: Number, bottom: Number, right: Number }}\n   * */\n  function roundRectDown (rect) {\n    return {\n      top: Math.floor(rect.top),\n      left: Math.floor(rect.left),\n      bottom: Math.floor(rect.bottom),\n      right: Math.floor(rect.right)\n    };\n  }\n\n  export default {\n    name: 'VisibilitySensor',\n    props: {\n      active: {\n        type: Boolean,\n        default: true\n      },\n      partialVisibility: {\n        type: [Boolean, String],\n        default: false,\n        validator: function (v) {\n          if (typeof v === 'boolean') {\n            return true;\n          } else {\n            return ['top', 'right', 'bottom', 'left'].indexOf(v) > -1;\n          }\n        }\n      },\n      minTopValue: {\n        type: Number,\n        default: 0\n      },\n      scrollCheck: {\n        type: Boolean,\n        default: false\n      },\n      scrollDelay: {\n        type: Number,\n        default: 250\n      },\n      scrollThrottle: {\n        type: Number,\n        default: -1\n      },\n      resizeCheck: {\n        type: Boolean,\n        default: false\n      },\n      resizeDelay: {\n        type: Number,\n        default: 250\n      },\n      resizeThrottle: {\n        type: Number,\n        default: -1\n      },\n      intervalCheck: {\n        type: Boolean,\n        default: true\n      },\n      intervalDelay: {\n        type: Number,\n        default: 100\n      },\n      delayedCall: {\n        type: Boolean,\n        default: false\n      },\n      offset: {\n        type: Object,\n        default: () => {\n        }\n        // should be\n        // {\n        //   top: Number,\n        //   left: Number,\n        //   right: Number,\n        //   bottom: Number,\n        // }\n      },\n      containment: {\n        default: null\n      }\n    },\n    data () {\n      return {\n        isVisible: null,\n        visibilityRect: {}\n      };\n    },\n    mounted () {\n      if (this.active) {\n        this.startWatching();\n      }\n    },\n    updated () {\n\n    },\n    beforeDestroy () {\n      this.stopWatching();\n    },\n    methods: {\n      getContainer () {\n        return this.containment || window;\n      },\n      addEventListener (target, event, delay, throttle) {\n        if (!this.debounceCheck) {\n          this.debounceCheck = {};\n        }\n        let timeout;\n        let fn;\n        const later = () => {\n          timeout = null;\n          this.check();\n        };\n\n        if (throttle > -1) {\n          fn = () => {\n            if (!timeout) {\n              timeout = setTimeout(later, throttle || 0);\n            }\n          };\n        } else {\n          fn = () => {\n            clearTimeout(timeout);\n            timeout = setTimeout(later, delay || 0);\n          };\n        }\n\n        const info = {\n          target,\n          fn,\n          getLastTimeout: () => timeout\n        };\n\n        target.addEventListener(event, info.fn);\n        this.debounceCheck[event] = info;\n      },\n      startWatching () {\n        if (this.debounceCheck || this.interval) {\n          return;\n        }\n\n        if (this.intervalCheck) {\n          this.interval = setInterval(() => this.check(), this.intervalDelay);\n        }\n\n        if (this.scrollCheck) {\n          this.addEventListener(\n            this.getContainer(),\n            'scroll',\n            this.scrollDelay,\n            this.scrollThrottle\n          );\n        }\n\n        if (this.resizeCheck) {\n          this.addEventListener(\n            window,\n            'resize',\n            this.resizeDelay,\n            this.resizeThrottle\n          );\n        }\n\n        !this.delayedCall && this.check();\n      },\n      stopWatching () {\n        if (this.debounceCheck) {\n          // clean up event listeners and their debounce callers\n          for (let debounceEvent in this.debounceCheck) {\n            if (this.debounceCheck.hasOwnProperty(debounceEvent)) {\n              const debounceInfo = this.debounceCheck[debounceEvent];\n\n              clearTimeout(debounceInfo.getLastTimeout());\n              debounceInfo.target.removeEventListener(\n                debounceEvent,\n                debounceInfo.fn\n              );\n\n              this.debounceCheck[debounceEvent] = null;\n            }\n          }\n        }\n        this.debounceCheck = null;\n\n        if (this.interval) {\n          clearInterval(this.interval);\n          this.interval = null;\n        }\n      },\n      check () {\n        const el = this.$el;\n        let rect;\n        let containmentRect;\n\n        if (!el) {\n          return;\n        }\n\n        rect = normalizeRect(roundRectDown(el.getBoundingClientRect()));\n\n        if (this.containment) {\n          const containmentDOMRect = this.containment.getBoundingClientRect();\n          containmentRect = {\n            top: containmentDOMRect.top,\n            left: containmentDOMRect.left,\n            bottom: containmentDOMRect.bottom,\n            right: containmentDOMRect.right\n          };\n        } else {\n          containmentRect = {\n            top: 0,\n            left: 0,\n            bottom: window.innerHeight || document.documentElement.clientHeight,\n            right: window.innerWidth || document.documentElement.clientWidth\n          };\n        }\n\n        const offset = this.offset || {};\n        if (typeof offset === 'object') {\n          containmentRect.top += offset.top || 0;\n          containmentRect.left += offset.left || 0;\n          containmentRect.bottom -= offset.bottom || 0;\n          containmentRect.right -= offset.right || 0;\n        }\n\n        const visibilityRect = {\n          top: rect.top >= containmentRect.top,\n          left: rect.left >= containmentRect.left,\n          bottom: rect.bottom <= containmentRect.bottom,\n          right: rect.right <= containmentRect.right\n        };\n\n        const hasSize = rect.height > 0 && rect.width > 0;\n\n        let isVisible =\n          hasSize &&\n          visibilityRect.top &&\n          visibilityRect.left &&\n          visibilityRect.bottom &&\n          visibilityRect.right;\n\n        // check for partial visibility\n        if (hasSize && this.partialVisibility) {\n          let partialVisible =\n            rect.top <= containmentRect.bottom &&\n            rect.bottom >= containmentRect.top &&\n            rect.left <= containmentRect.right &&\n            rect.right >= containmentRect.left;\n\n          // account for partial visibility on a single edge\n          if (typeof this.partialVisibility === 'string') {\n            partialVisible = visibilityRect[this.partialVisibility];\n          }\n\n          // if we have minimum top visibility set by props, lets check, if it meets the passed value\n          // so if for instance element is at least 200px in viewport, then show it.\n          isVisible = this.minTopValue\n            ? partialVisible &&\n            rect.top <= containmentRect.bottom - this.minTopValue\n            : partialVisible;\n        }\n\n        if (this.isVisible !== isVisible) {\n          this.isVisible = isVisible;\n          this.visibilityRect = visibilityRect;\n          this.$emit('change', isVisible);\n        }\n      }\n    },\n    render(createElement, context) {\n      return this.$slots.default || createElement('div', { style: 'height: 1px; width: 100%;' });\n    },\n  };\n</script>\n"]}]}